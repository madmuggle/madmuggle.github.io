# Python是基于原型的OOP吗？
2017/04/18 18:28:00


以前谈到OOP，总是习惯性张口就说，Javascript是基于原型的继承，Python是基于类的继承。仿佛“原型”和“类”就跟“苹果”和“梨”一样，是两种东西。

然而ES6引入class后，却宣称ES6依旧是基于原型的OOP，class只是以前构造函数的语法糖而已。这就让我的概念有些动摇了。

为何？因为如果这种说法成立，那么Python一开始就应该算作是“基于原型”。

基于原型的关键就在于“原型链”的存在。Python虽说基于类，但它的确存在一个“原型链”之类的东西，你能通过它，在运行时访问到所有继承下来的东西。

比如先定义一个类A：

```python
class A: pass
```

然后定义一个类B继承A：

```python
class B(A): pass
```

接着你就可以通过B的一个属性得到A这个类对象了：

```python
B.__base__
#=> <class '__main__.A'>
```

同样的步骤几乎以同样的面孔，同样的结果出现在JS中：

```js
class A {}
//=> [Function: A]
```

```js
class B extends A {}
//=> [Function: B]
```

```js
B.__proto__
//=> [Function: A]
```

所以“基于类”和“基于原型”并不是两种绝对独立的概念，它们是存在交集的，“基于原型”的OOP，可以同时是“基于类”的。

